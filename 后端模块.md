用户在线状态维护：当用户在线时，记录保存用户的在线状态、IP地址、端口号。
用户消息列表实时发放：由监听函数将操作实时加入到执行函数列表中递归执行。
向用户发送其好友列表的在线离线情况，包括好友用户名、IP地址、端口号。并按照最后发消息的时间对好友消息列表进行排序。
图表

type 类型判断是 subscribe 收录(添加好友)
用户在线状态的保存
let userMap = new Map()

koa2 服务器

1. users表：用户信息表，存储用户基本信息，包括用户ID(_id)、用户名(account)、手机号(phone)、电子邮箱(email)、用户登录IP地址(ip)、用户登录端口(port)
| 名称   |	数据类型	  | 主键	| 是否唯一	| 是否为空	| 备注
| ------ | ------ | ------ | ------ | ------ | ------ |
|_id	   | INTEGER	  | Y	    |  Y      |N	      | 用户id
| account|string  | N	    |  N	    |N	      | 用户名
|phone	 | Istring| N	    |  N      |N	      | 手機號
| email|	string	N	   |  N	    |Y	       |郵箱
| ip|	string	| N	   |  N	    |N	       | IP

2. chat_friend_ships 表：存储用户的好友信息，包括用户id(from_user_id)、好友id(to_user_id)、加好友请求是否接受(accepted)。
名称	| 数据类型	| 主键	| 是否唯一	| 是否为空	| 备注
| ------ | ------ | ------ | ------ | ------ | ------ |
from_user_id	| INTEGER |	Y |	Y	| N	| 本人ID
to_user_id	| INTEGER	| N	|Y	|N	|好友ID
accept	| BOOLEAN	| N	| N | 	N|	接受状态
